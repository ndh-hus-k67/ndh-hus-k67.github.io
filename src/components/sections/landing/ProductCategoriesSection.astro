---
import Icon from "@components/ui/icons/Icon.astro";
import { Image } from "astro:assets";

interface Category {
  slug: string;
  name: string;
  description: string;
  icon: string;
  count: number;
  image?: any;
  imageAlt?: string;
  features?: string[];
  highlights?: { label: string; value: string }[];
}

interface Props {
  title?: string;
  subTitle?: string;
  categories: Category[];
  lang?: string;
}

const {
  title = "Khám phá danh mục sản phẩm",
  subTitle = "HAHUTECH cung cấp đa dạng các loại bu lông, ốc vít và phụ kiện chất lượng cao cho mọi nhu cầu công nghiệp và xây dựng.",
  categories,
  lang = "vn",
} = Astro.props;

const productLabel = lang === "en" ? "products" : "sản phẩm";
const viewAllLabel = lang === "en" ? "View all" : "Xem tất cả";
const viewAllProductsLabel = lang === "en" ? "View all products" : "Xem tất cả sản phẩm";
---

<section
  class="mx-auto max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 2xl:max-w-full"
>
  <!-- Section header -->
  <div class="mx-auto mb-12 max-w-2xl text-center">
    <h2 class="mb-4 text-3xl font-bold text-neutral-800 dark:text-neutral-200 md:text-4xl">
      {title}
    </h2>
    {subTitle && (
      <p class="text-lg text-neutral-600 dark:text-neutral-400">
        {subTitle}
      </p>
    )}
  </div>

  <!-- Categories grid -->
  <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
    {
      categories.map((category, index) => (
        <a
          href={lang === "en" ? `/en/${category.slug}` : `/${category.slug}`}
          class="group relative flex flex-col overflow-hidden rounded-2xl bg-white shadow-lg transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl dark:bg-neutral-800"
        >
          {/* Image section */}
          {category.image && (
            <div class="relative h-64 w-full overflow-hidden">
              <Image
                src={category.image}
                alt={category.imageAlt || category.name}
                class="h-full w-full object-cover brightness-90 transition duration-500 group-hover:scale-105 group-hover:brightness-100"
                widths={[400]}
                sizes="400px"
              />
              
              {/* Simple gradient overlay */}
              <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent" />
              
              

              {/* Bottom info overlay */}
              <div class="absolute bottom-0 left-0 right-0 p-5">
                <div class="flex items-center gap-3">
                  
                  <div>
                    <h3 class="text-2xl font-bold text-white">
                      {category.name}
                    </h3>
                    <p class="text-sm font-medium text-white/80">
                      {category.count} {productLabel}
                    </p>
                  </div>
                </div>
              </div>
            </div>
          )}
        </a>
      ))
    }
  </div>
</section>
